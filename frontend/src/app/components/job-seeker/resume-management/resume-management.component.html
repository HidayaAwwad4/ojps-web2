<app-navbar [role]="'jobseeker'"></app-navbar>

<div class="container mt-4">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h2 class="header-dark-red mb-0">Resume Details</h2>
    <div>
      <button class="btn btn-dark-red me-2">Save Changes</button>
      <button class="btn btn-dark-red" (click)="uploadResume()">Upload Resume</button>
    </div>
  </div>

  <div class="section">
    <div class="d-flex justify-content-between align-items-center mb-3">
      <h4 class="section-header">Professional Experience</h4>
      <button class="btn btn-dark-red" (click)="addExperience()">Add Experience</button>
    </div>
    <div *ngFor="let exp of experiences; let i = index" class="d-flex align-items-center mb-2 gap-2 flex-wrap">
      <label>Company:</label>
      <input type="text" [(ngModel)]="exp.company">
      <label>Position:</label>
      <input type="text" [(ngModel)]="exp.position">
      <label>From:</label>
      <input type="text" class="input-small" [(ngModel)]="exp.from">
      <label>To:</label>
      <input type="text" class="input-small" [(ngModel)]="exp.to">
      <button class="btn btn-delete" (click)="deleteExperience(i)">Delete</button>
    </div>
  </div>

  <div class="section mt-4">
    <div class="d-flex justify-content-between align-items-center mb-3">
      <h4 class="section-header">Education</h4>
      <button class="btn btn-dark-red" (click)="addEducation()">Add Education</button>
    </div>
    <div *ngFor="let edu of education; let i = index" class="d-flex align-items-center mb-2 gap-2 flex-wrap">
      <label>Degree:</label>
      <input type="text" [(ngModel)]="edu.degree">
      <label>Field:</label>
      <input type="text" [(ngModel)]="edu.field">
      <label>Institution:</label>
      <input type="text" [(ngModel)]="edu.institution">
      <label>Year:</label>
      <input type="text" class="input-small" [(ngModel)]="edu.year">
      <button class="btn btn-delete" (click)="deleteEducation(i)">Delete</button>
    </div>
  </div>

  <div class="section mt-4">
    <div class="d-flex justify-content-between align-items-center mb-3">
      <h4 class="section-header">Skills</h4>
      <button class="btn btn-dark-red" (click)="addStrength()">Add Skill</button>
    </div>
    <div *ngFor="let s of skills; let i = index" class="d-flex align-items-center mb-2 gap-2 flex-wrap">
      <label>Skill:</label>
      <input type="text" [(ngModel)]="skills[i]">
      <button class="btn btn-delete" (click)="deleteStrength(i)">Delete</button>
    </div>
  </div>

  
</div>
<div class="modal-backdrop" *ngIf="showResumeModal">
  <div class="modal-content">
    <h3>Upload Resume</h3>
    <div class="drop-zone" (click)="fileInput.click()">
      <img src="assets/picture-vector.png" alt="Upload Icon" class="upload-icon">
      <p>Drag your resume here or click to upload</p>
      <p class="text-muted">Acceptable file types: PDF, DOCX (5MB max)</p>
      <input type="file" #fileInput class="d-none" (change)="handleFileUpload($event)" />
    </div>
    <div class="modal-actions mt-3 d-flex justify-content-end gap-2">
      <button class="btn btn-dark-red" (click)="saveResume()">Save</button>
      <button class="btn btn-delete" (click)="cancelResumeUpload()">Cancel</button>
    </div>
  </div>
</div>
